START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:true", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "70ixmpl4fl.execute-api.us-east-2.amazonaws.com", "resource": "GET /", "name": "aws.apigateway", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.apigateway.rest", "http.url": "70ixmpl4fl.execute-api.us-east-2.amazonaws.com/", "endpoint": "/", "http.method": "GET", "resource_names": "GET /", "apiid": "70ixmpl4fl", "apiname": "70ixmpl4fl", "stage": "Prod", "request_id": "XXXX", "_inferred_span.synchronicity": "sync", "_inferred_span.tag_source": "self", "http.status_code": "200"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "true", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "api-gateway", "function_trigger.event_source_arn": "arn:aws:apigateway:sa-east-1::/restapis/70ixmpl4fl/stages/Prod", "http.url": "70ixmpl4fl.execute-api.us-east-2.amazonaws.com", "http.url_details.path": "/Prod/", "http.method": "GET", "function.request.resource": "/", "function.request.path": "/", "function.request.httpMethod": "GET", "function.request.headers.accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9", "function.request.headers.accept-encoding": "gzip, deflate, br", "function.request.headers.accept-language": "en-US,en;q=0.9", "function.request.headers.cookie": "s_fid=7AAB6XMPLAFD9BBF-0643XMPL09956DE2; regStatus=pre-register", "function.request.headers.Host": "70ixmpl4fl.execute-api.us-east-2.amazonaws.com", "function.request.headers.sec-fetch-dest": "document", "function.request.headers.sec-fetch-mode": "navigate", "function.request.headers.sec-fetch-site": "none", "function.request.headers.User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36", "function.request.headers.X-Amzn-Trace-Id": "Root=1-5e66d96f-7491f09xmpl79d18acf3d050", "function.request.headers.X-Forwarded-For": "52.255.255.12", "function.request.headers.X-Forwarded-Proto": "https", "function.request.multiValueHeaders.accept.0": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9", "function.request.multiValueHeaders.accept-encoding.0": "gzip, deflate, br", "function.request.multiValueHeaders.accept-language.0": "en-US,en;q=0.9", "function.request.multiValueHeaders.cookie.0": "s_fid=7AABXMPL1AFD9BBF-0643XMPL09956DE2; regStatus=pre-register;", "function.request.multiValueHeaders.Host.0": "70ixmpl4fl.execute-api.ca-central-1.amazonaws.com", "function.request.multiValueHeaders.sec-fetch-dest.0": "document", "function.request.multiValueHeaders.sec-fetch-mode.0": "navigate", "function.request.multiValueHeaders.sec-fetch-site.0": "none", "function.request.multiValueHeaders.User-Agent.0": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36", "function.request.multiValueHeaders.X-Amzn-Trace-Id.0": "Root=1-5e66d96f-7491f09xmpl79d18acf3d050", "function.request.multiValueHeaders.X-Forwarded-For.0": "52.255.255.12", "function.request.multiValueHeaders.X-Forwarded-Proto.0": "https", "function.request.queryStringParameters": "None", "function.request.multiValueQueryStringParameters": "None", "function.request.pathParameters": "None", "function.request.stageVariables": "None", "function.request.requestContext.resourceId": "2gxmpl", "function.request.requestContext.resourcePath": "/", "function.request.requestContext.httpMethod": "GET", "function.request.requestContext.extendedRequestId": "JJbxmplHYosFVYQ=", "function.request.requestContext.requestTime": "10/Mar/2020:00:03:59 +0000", "function.request.requestContext.path": "/Prod/", "function.request.requestContext.protocol": "HTTP/1.1", "function.request.requestContext.stage": "Prod", "function.request.requestContext.domainPrefix": "70ixmpl4fl", "function.request.requestContext.requestId": "77375676-xmpl-4b79-853a-f982474efe18", "function.request.requestContext.identity.cognitoIdentityPoolId": "None", "function.request.requestContext.identity.accountId": "None", "function.request.requestContext.identity.cognitoIdentityId": "None", "function.request.requestContext.identity.caller": "None", "function.request.requestContext.identity.sourceIp": "52.255.255.12", "function.request.requestContext.identity.principalOrgId": "None", "function.request.requestContext.identity.accessKey": "None", "function.request.requestContext.identity.cognitoAuthenticationType": "None", "function.request.requestContext.identity.cognitoAuthenticationProvider": "None", "function.request.requestContext.identity.userArn": "None", "function.request.requestContext.identity.userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36", "function.request.requestContext.identity.user": "None", "function.request.requestContext.domainName": "70ixmpl4fl.execute-api.us-east-2.amazonaws.com", "function.request.requestContext.apiId": "70ixmpl4fl", "function.request.body": "None", "function.request.isBase64Encoded": "False", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "77375676-xmpl-4b79-853a-f982474efe18", "http.status_code": "200"}, "metrics": {"function.request.headers.upgrade-insecure-requests": 1, "function.request.headers.X-Forwarded-Port": 443, "function.request.multiValueHeaders.upgrade-insecure-requests.0": 1, "function.request.multiValueHeaders.X-Forwarded-Port.0": 443, "function.request.requestContext.accountId": 123456789012, "function.request.requestContext.requestTimeEpoch": 1583798639428, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	Init Duration: XXXX ms	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "dynamodb", "resource": "ExampleTableWithStream", "name": "aws.dynamodb", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.dynamodb", "resource_names": "ExampleTableWithStream", "tablename": "ExampleTableWithStream", "event_source_arn": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899", "event_id": "c4ca4238a0b923820dcc509a6f75849b", "event_name": "INSERT", "event_version": "1.1", "stream_view_type": "NEW_AND_OLD_IMAGES", "size_bytes": "26", "_inferred_span.synchronicity": "async", "_inferred_span.tag_source": "self"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "dynamodb", "function_trigger.event_source_arn": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899", "function.request.Records.0.eventID": "c4ca4238a0b923820dcc509a6f75849b", "function.request.Records.0.eventName": "INSERT", "function.request.Records.0.eventSource": "aws:dynamodb", "function.request.Records.0.awsRegion": "us-east-1", "function.request.Records.0.dynamodb.NewImage.Message.S": "New item!", "function.request.Records.0.dynamodb.SequenceNumber": "4421584500000000017450439091", "function.request.Records.0.dynamodb.StreamViewType": "NEW_AND_OLD_IMAGES", "function.request.Records.0.eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899", "function.request.Records.1.eventID": "c81e728d9d4c2f636f067f89cc14862c", "function.request.Records.1.eventName": "MODIFY", "function.request.Records.1.eventSource": "aws:dynamodb", "function.request.Records.1.awsRegion": "us-east-1", "function.request.Records.1.dynamodb.NewImage.Message.S": "This item has changed", "function.request.Records.1.dynamodb.OldImage.Message.S": "New item!", "function.request.Records.1.dynamodb.SequenceNumber": "4421584500000000017450439092", "function.request.Records.1.dynamodb.StreamViewType": "NEW_AND_OLD_IMAGES", "function.request.Records.1.eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899", "function.request.Records.2.eventID": "eccbc87e4b5ce2fe28308fd9f2a7baf3", "function.request.Records.2.eventName": "REMOVE", "function.request.Records.2.eventSource": "aws:dynamodb", "function.request.Records.2.awsRegion": "us-east-1", "function.request.Records.2.dynamodb.OldImage.Message.S": "This item has changed", "function.request.Records.2.dynamodb.SequenceNumber": "4421584500000000017450439093", "function.request.Records.2.dynamodb.StreamViewType": "NEW_AND_OLD_IMAGES", "function.request.Records.2.eventSourceARN": "arn:aws:dynamodb:us-east-1:123456789012:table/ExampleTableWithStream/stream/2015-06-27T00:48:05.899", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "None"}, "metrics": {"function.request.Records.0.eventVersion": 1.1, "function.request.Records.0.dynamodb.Keys.Id.N": 101, "function.request.Records.0.dynamodb.NewImage.Id.N": 101, "function.request.Records.0.dynamodb.ApproximateCreationDateTime": 1428537600, "function.request.Records.0.dynamodb.SizeBytes": 26, "function.request.Records.1.eventVersion": 1.1, "function.request.Records.1.dynamodb.Keys.Id.N": 101, "function.request.Records.1.dynamodb.NewImage.Id.N": 101, "function.request.Records.1.dynamodb.OldImage.Id.N": 101, "function.request.Records.1.dynamodb.ApproximateCreationDateTime": 1428537600, "function.request.Records.1.dynamodb.SizeBytes": 59, "function.request.Records.2.eventVersion": 1.1, "function.request.Records.2.dynamodb.Keys.Id.N": 101, "function.request.Records.2.dynamodb.OldImage.Id.N": 101, "function.request.Records.2.dynamodb.ApproximateCreationDateTime": 1428537600, "function.request.Records.2.dynamodb.SizeBytes": 38, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "eventbridge", "resource": "eventbridge.custom.event.sender", "name": "aws.eventbridge", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.eventbridge", "resource_names": "eventbridge.custom.event.sender", "detail_type": "testdetail", "_inferred_span.synchronicity": "async", "_inferred_span.tag_source": "self"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "eventbridge", "function.request.id": "fd03f394-e769-eff5-08a8-53c228933591", "function.request.detail-type": "testdetail", "function.request.source": "eventbridge.custom.event.sender", "function.request.time": "2021-11-04T01:37:45Z", "function.request.region": "sa-east-1", "function.request.detail.foo": "bar", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "None"}, "metrics": {"function.request.version": 0, "function.request.account": 601427279990, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "x02yirxc7a.execute-api.sa-east-1.amazonaws.com", "resource": "GET /httpapi/get", "name": "aws.httpapi", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.httpapi", "endpoint": "/httpapi/get", "http.url": "x02yirxc7a.execute-api.sa-east-1.amazonaws.com/httpapi/get", "http.method": "GET", "http.protocol": "HTTP/1.1", "http.source_ip": "38.122.226.210", "http.user_agent": "curl/7.64.1", "resource_names": "GET /httpapi/get", "request_id": "XXXX", "apiid": "x02yirxc7a", "apiname": "x02yirxc7a", "stage": "$default", "_inferred_span.synchronicity": "sync", "_inferred_span.tag_source": "self", "http.status_code": "200"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "api-gateway", "function_trigger.event_source_arn": "arn:aws:apigateway:sa-east-1::/restapis/x02yirxc7a/stages/$default", "http.url": "x02yirxc7a.execute-api.sa-east-1.amazonaws.com", "http.url_details.path": "/httpapi/get", "http.method": "GET", "function.request.routeKey": "GET /httpapi/get", "function.request.rawPath": "/httpapi/get", "function.request.rawQueryString": "", "function.request.headers.accept": "*/*", "function.request.headers.host": "x02yirxc7a.execute-api.sa-east-1.amazonaws.com", "function.request.headers.user-agent": "curl/7.64.1", "function.request.headers.x-amzn-trace-id": "Root=1-613a52fb-4c43cfc95e0241c1471bfa05", "function.request.headers.x-forwarded-for": "38.122.226.210", "function.request.headers.x-forwarded-proto": "https", "function.request.requestContext.apiId": "x02yirxc7a", "function.request.requestContext.domainName": "x02yirxc7a.execute-api.sa-east-1.amazonaws.com", "function.request.requestContext.domainPrefix": "x02yirxc7a", "function.request.requestContext.http.method": "GET", "function.request.requestContext.http.path": "/httpapi/get", "function.request.requestContext.http.protocol": "HTTP/1.1", "function.request.requestContext.http.sourceIp": "38.122.226.210", "function.request.requestContext.http.userAgent": "curl/7.64.1", "function.request.requestContext.requestId": "FaHnXjKCGjQEJ7A=", "function.request.requestContext.routeKey": "GET /httpapi/get", "function.request.requestContext.stage": "$default", "function.request.requestContext.time": "09/Sep/2021:18:31:23 +0000", "function.request.isBase64Encoded": "False", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "FaHnXjKCGjQEJ7A=", "http.status_code": "200"}, "metrics": {"function.request.version": 2.0, "function.request.headers.content-length": 0, "function.request.headers.x-forwarded-port": 443, "function.request.requestContext.accountId": 601427279990, "function.request.requestContext.timeEpoch": 1631212283738, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "kinesis", "resource": "EXAMPLE", "name": "aws.kinesis", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.kinesis", "resource_names": "EXAMPLE", "streamname": "EXAMPLE", "shardid": "shardId-000000000000", "event_source_arn": "arn:aws:kinesis:EXAMPLE", "event_id": "shardId-000000000000:49545115243490985018280067714973144582180062593244200961", "event_name": "aws:kinesis:record", "event_version": "1.0", "partition_key": "partitionKey-03", "_inferred_span.synchronicity": "async", "_inferred_span.tag_source": "self"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "kinesis", "function_trigger.event_source_arn": "arn:aws:kinesis:EXAMPLE", "function.request.Records.0.kinesis.partitionKey": "partitionKey-03", "function.request.Records.0.kinesis.data": "SGVsbG8sIHRoaXMgaXMgYSB0ZXN0IDEyMy4=", "function.request.Records.0.kinesis.sequenceNumber": "49545115243490985018280067714973144582180062593244200961", "function.request.Records.0.eventSource": "aws:kinesis", "function.request.Records.0.eventID": "shardId-000000000000:49545115243490985018280067714973144582180062593244200961", "function.request.Records.0.invokeIdentityArn": "arn:aws:iam::EXAMPLE", "function.request.Records.0.eventName": "aws:kinesis:record", "function.request.Records.0.eventSourceARN": "arn:aws:kinesis:EXAMPLE", "function.request.Records.0.awsRegion": "us-east-1", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "None"}, "metrics": {"function.request.Records.0.kinesis.kinesisSchemaVersion": 1.0, "function.request.Records.0.kinesis.approximateArrivalTimestamp": 1428537600, "function.request.Records.0.eventVersion": 1.0, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "s3", "resource": "example-bucket", "name": "aws.s3", "error": 0, "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.s3", "resource_names": "example-bucket", "event_name": "ObjectCreated:Put", "bucketname": "example-bucket", "bucket_arn": "arn:aws:s3:::example-bucket", "object_key": "test/key", "object_size": "1024", "object_etag": "0123456789abcdef0123456789abcdef", "_inferred_span.synchronicity": "async", "_inferred_span.tag_source": "self"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "s3", "function_trigger.event_source_arn": "arn:aws:s3:::example-bucket", "function.request.Records.0.eventSource": "aws:s3", "function.request.Records.0.awsRegion": "us-east-1", "function.request.Records.0.eventTime": "1970-01-01T00:00:00.000Z", "function.request.Records.0.eventName": "ObjectCreated:Put", "function.request.Records.0.userIdentity.principalId": "EXAMPLE", "function.request.Records.0.requestParameters.sourceIPAddress": "127.0.0.1", "function.request.Records.0.responseElements.x-amz-request-id": "EXAMPLE123456789", "function.request.Records.0.responseElements.x-amz-id-2": "EXAMPLE123/5678abcdefghijklambdaisawesome/mnopqrstuvwxyzABCDEFGH", "function.request.Records.0.s3.configurationId": "testConfigRule", "function.request.Records.0.s3.bucket.name": "example-bucket", "function.request.Records.0.s3.bucket.ownerIdentity.principalId": "EXAMPLE", "function.request.Records.0.s3.bucket.arn": "arn:aws:s3:::example-bucket", "function.request.Records.0.s3.object.key": "test/key", "function.request.Records.0.s3.object.eTag": "0123456789abcdef0123456789abcdef", "function.request.Records.0.s3.object.sequencer": "0A1B2C3D4E5F678901", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "None"}, "metrics": {"function.request.Records.0.eventVersion": 2.0, "function.request.Records.0.s3.s3SchemaVersion": 1.0, "function.request.Records.0.s3.object.size": 1024, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "sns", "resource": "sns-lambda", "name": "aws.sns", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.sns", "resource_names": "sns-lambda", "topicname": "sns-lambda", "topic_arn": "arn:aws:sns:us-east-2:123456789012:sns-lambda", "message_id": "95df01b4-ee98-5cb9-9903-4c221d41eb5e", "type": "Notification", "subject": "TestInvoke", "_inferred_span.synchronicity": "async", "_inferred_span.tag_source": "self"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "sns", "function_trigger.event_source_arn": "arn:aws:sns:us-east-2:123456789012:sns-lambda", "function.request.Records.0.EventSubscriptionArn": "arn:aws:sns:us-east-2:123456789012:sns-lambda:21be56ed-a058-49f5-8c98-aedd2564c486", "function.request.Records.0.EventSource": "aws:sns", "function.request.Records.0.Sns.Timestamp": "2019-01-02T12:45:07.000Z", "function.request.Records.0.Sns.Signature": "tcc6faL2yUC6dgZdmrwh1Y4cGa/ebXEkAi6RibDsvpi+tE/1+82j...65r==", "function.request.Records.0.Sns.SigningCertUrl": "https://sns.us-east-2.amazonaws.com/SimpleNotificationService-ac565b8b1a6c5d002d285f9598aa1d9b.pem", "function.request.Records.0.Sns.MessageId": "95df01b4-ee98-5cb9-9903-4c221d41eb5e", "function.request.Records.0.Sns.Message": "Hello from SNS!", "function.request.Records.0.Sns.MessageAttributes.Test.Type": "String", "function.request.Records.0.Sns.MessageAttributes.Test.Value": "TestString", "function.request.Records.0.Sns.MessageAttributes.TestBinary.Type": "Binary", "function.request.Records.0.Sns.MessageAttributes.TestBinary.Value": "TestBinary", "function.request.Records.0.Sns.Type": "Notification", "function.request.Records.0.Sns.UnsubscribeUrl": "https://sns.us-east-2.amazonaws.com/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:us-east-2:123456789012:test-lambda:21be56ed-a058-49f5-8c98-aedd2564c486", "function.request.Records.0.Sns.TopicArn": "arn:aws:sns:us-east-2:123456789012:sns-lambda", "function.request.Records.0.Sns.Subject": "TestInvoke", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "None", "function.response.body.event_record_ids.0": "95df01b4-ee98-5cb9-9903-4c221d41eb5e"}, "metrics": {"function.request.Records.0.EventVersion": 1.0, "function.request.Records.0.Sns.SignatureVersion": 1, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "sqs", "resource": "my-queue", "name": "aws.sqs", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.sqs", "resource_names": "my-queue", "queuename": "my-queue", "event_source_arn": "arn:aws:sqs:us-east-2:123456789012:my-queue", "receipt_handle": "AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...", "sender_id": "AIDAIENQZJOLO23YVJ4VO", "_inferred_span.synchronicity": "async", "_inferred_span.tag_source": "self"}, "metrics": {"system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "sqs", "function_trigger.event_source_arn": "arn:aws:sqs:us-east-2:123456789012:my-queue", "function.request.Records.0.messageId": "059f36b4-87a3-44ab-83d2-661975830a7d", "function.request.Records.0.receiptHandle": "AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...", "function.request.Records.0.body": "Test message.", "function.request.Records.0.attributes.SenderId": "AIDAIENQZJOLO23YVJ4VO", "function.request.Records.0.md5OfBody": "e4e68fb7bd0e697a0ae8f1bb342846b3", "function.request.Records.0.eventSource": "aws:sqs", "function.request.Records.0.eventSourceARN": "arn:aws:sqs:us-east-2:123456789012:my-queue", "function.request.Records.0.awsRegion": "us-east-2", "function.request.Records.1.messageId": "2e1424d4-f796-459a-8184-9c92662be6da", "function.request.Records.1.receiptHandle": "AQEBzWwaftRI0KuVm4tP+/7q1rGgNqicHq...", "function.request.Records.1.body": "Test message.", "function.request.Records.1.attributes.SenderId": "AIDAIENQZJOLO23YVJ4VO", "function.request.Records.1.md5OfBody": "e4e68fb7bd0e697a0ae8f1bb342846b3", "function.request.Records.1.eventSource": "aws:sqs", "function.request.Records.1.eventSourceARN": "arn:aws:sqs:us-east-2:123456789012:my-queue", "function.request.Records.1.awsRegion": "us-east-2", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "None", "function.response.body.event_record_ids.0": "059f36b4-87a3-44ab-83d2-661975830a7d", "function.response.body.event_record_ids.1": "2e1424d4-f796-459a-8184-9c92662be6da"}, "metrics": {"function.request.Records.0.attributes.ApproximateReceiveCount": 1, "function.request.Records.0.attributes.SentTimestamp": 1545082649183, "function.request.Records.0.attributes.ApproximateFirstReceiveTimestamp": 1545082649185, "function.request.Records.0.messageAttributes._datadog.stringValue.x-datadog-trace-id": 666, "function.request.Records.0.messageAttributes._datadog.stringValue.x-datadog-parent-id": 777, "function.request.Records.0.messageAttributes._datadog.stringValue.x-datadog-sampling-priority": 1, "function.request.Records.1.attributes.ApproximateReceiveCount": 1, "function.request.Records.1.attributes.SentTimestamp": 1545082650636, "function.request.Records.1.attributes.ApproximateFirstReceiveTimestamp": 1545082650649, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
START RequestId: XXXX Version: $LATEST
{"m": "aws.lambda.enhanced.invocations", "v": 1, "e": XXXX, "t": ["region:sa-east-1", "account_id:XXXX", "functionname:integration-tests-python-XXXX-sync-metrics_python38", "resource:integration-tests-python-XXXX-sync-metrics_python38", "cold_start:false", "memorysize:1024", "runtime:python3.8", "datadog_lambda:vXX", "dd_lambda_layer:datadog-python38_X.X.X"]}
HTTP GET https://httpstat.us/200/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
HTTP GET https://httpstat.us/400/ Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "User-Agent:python-requests/X.X.X", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "p62c47itsb.execute-api.sa-east-1.amazonaws.com", "resource": "$default", "name": "aws.apigateway.websocket", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "operation_name": "aws.apigateway.websocket", "http.url": "p62c47itsb.execute-api.sa-east-1.amazonaws.com$default", "endpoint": "$default", "resource_names": "$default", "apiid": "p62c47itsb", "apiname": "p62c47itsb", "stage": "dev", "request_id": "Fc5S3EvdGjQFtsQ=", "connection_id": "Fc5SzcoYGjQCJlg=", "event_type": "MESSAGE", "message_direction": "IN", "_inferred_span.synchronicity": "sync", "_inferred_span.tag_source": "self", "http.status_code": "200"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "web"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "integration-tests-python-XXXX-sync-metrics_python38", "name": "aws.lambda", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "cold_start": "false", "function_arn": "arn:aws:lambda:sa-east-1:601427279990:function:integration-tests-python-XXXX-sync-metrics_python38", "function_version": "$LATEST", "request_id": "XXXX", "resource_names": "integration-tests-python-XXXX-sync-metrics_python38", "functionname": "integration-tests-python-XXXX-sync-metrics_python38", "datadog_lambda": "X.X.X", "dd_trace": "X.X.X", "span.name": "aws.lambda", "function_trigger.event_source": "api-gateway", "function_trigger.event_source_arn": "arn:aws:apigateway:sa-east-1::/restapis/p62c47itsb/stages/dev", "http.url": "p62c47itsb.execute-api.sa-east-1.amazonaws.com", "function.request.requestContext.routeKey": "$default", "function.request.requestContext.messageId": "Fc5S3coemjQCJlg=", "function.request.requestContext.eventType": "MESSAGE", "function.request.requestContext.extendedRequestId": "Fc5S3EvdGjQFtsQ=", "function.request.requestContext.requestTime": "10/Sep/2021:14:44:21 +0000", "function.request.requestContext.messageDirection": "IN", "function.request.requestContext.stage": "dev", "function.request.requestContext.identity.sourceIp": "38.122.226.210", "function.request.requestContext.requestId": "Fc5S3EvdGjQFtsQ=", "function.request.requestContext.domainName": "p62c47itsb.execute-api.sa-east-1.amazonaws.com", "function.request.requestContext.connectionId": "Fc5SzcoYGjQCJlg=", "function.request.requestContext.apiId": "p62c47itsb", "function.request.body": "What's good in the hood?", "function.request.isBase64Encoded": "False", "function.response.body.message": "hello, dog!", "function.response.body.request_id": "Fc5S3EvdGjQFtsQ=", "http.status_code": "200"}, "metrics": {"function.request.requestContext.connectedAt": 1631285060967, "function.request.requestContext.requestTimeEpoch": 1631285061365, "function.response.statusCode": 200, "_dd.top_level": 1}, "type": "serverless"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/200/", "http.status_code": "200"}, "metrics": {"_dd.measured": 1}, "type": "http"}, {"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"_dd.origin": "lambda", "http.method": "GET", "http.url": "https://httpstat.us/400/", "http.status_code": "400"}, "metrics": {"_dd.measured": 1}, "type": "http"}]]}
HTTP POST https://api.datadoghq.com/api/v1/distribution_points?api_key=XXXX Headers: ["Accept-Encoding:gzip, deflate", "Accept:*/*", "Connection:keep-alive", "Content-Encoding:deflate", "Content-Length:XXXX", "Content-Type:application/json", "User-Agent:datadogpy/0.41.0 (python XX; os linux; arch x86_64)", "x-datadog-parent-id:XXXX", "x-datadog-sampling-priority:1", "x-datadog-trace-id:XXXX"] Data: {"series": [{"metric": "hello.dog", "points": [[XXXX, [1.0]]], "type": "distribution", "host": null, "device": null, "tags": ["team:serverless", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}, {"metric": "tests.integration.count", "points": [[XXXX, [21.0]]], "type": "distribution", "host": null, "device": null, "tags": ["test:integration", "role:hello", "dd_lambda_layer:datadog-python38_X.X.X"], "interval": 10}]}
{"traces": [[{"trace_id": "XXXX", "parent_id": "XXXX", "span_id": "XXXX", "service": "aws.lambda", "resource": "requests.request", "name": "requests.request", "error": 0, "start": "XXXX", "duration": "XXXX", "meta": {"runtime-id": "XXXX", "_dd.origin": "lambda", "http.method": "POST", "http.url": "https://api.datadoghq.com/api/v1/distribution_points", "http.status_code": "202"}, "metrics": {"_dd.agent_psr": 1.0, "system.pid": "XXXX", "_dd.measured": 1, "_sampling_priority_v1": 1, "_dd.top_level": 1}, "type": "http"}]]}
END RequestId: XXXX
REPORT RequestId: XXXX	Duration: XXXX ms	Billed Duration: XXXX ms	Memory Size: 1024 MB	Max Memory Used: XXXX MB	
